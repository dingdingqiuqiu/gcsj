import{_ as a,c as e,o as i,ae as t}from"./chunks/framework.ChhGBEr5.js";const r=JSON.parse('{"title":"Archlinux双系统及其软件生态配置","description":"","frontmatter":{"title":"Archlinux双系统及其软件生态配置","date":"2023-11-07T16:51:56.000Z","tags":["双系统安装","clash","pycharm","vim","zsh","wine"],"categories":["环境搭建","开发环境"]},"headers":[],"relativePath":"笔记/Old/Archlinux双系统及其软件生态配置.md","filePath":"笔记/Old/Archlinux双系统及其软件生态配置.md","lastUpdated":1743185048000}'),p={name:"笔记/Old/Archlinux双系统及其软件生态配置.md"};function n(l,s,h,d,o,c){return i(),e("div",null,s[0]||(s[0]=[t(`<p>本文主要记录了双系统安装的过程以及clash,pycharm,vim,zsh等软件相关安装配置</p><h3 id="双系统安装" tabindex="-1">双系统安装 <a class="header-anchor" href="#双系统安装" aria-label="Permalink to &quot;双系统安装&quot;">​</a></h3><p>照着下面这个up主装就行。</p><p><a href="https://www.bilibili.com/video/BV1fk4y1w7wq/?spm_id_from=333.999.0.0" target="_blank" rel="noreferrer">https://www.bilibili.com/video/BV1fk4y1w7wq/?spm_id_from=333.999.0.0</a></p><p>主要记录期间遇到的几个问题</p><p>1.<code>iwctl</code>中<code>WIFI</code>连接遇到问题？</p><p>有可能是无线网络被锁住了，在进入<code>iwctl</code>前运行以下命令即可解锁</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rfkill</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unblock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wifi</span></span></code></pre></div><p>2.一个电脑两个磁盘，一个磁盘放<code>Windows</code>,另一个磁盘放<code>Archlinux</code>是否可行？</p><p>在<code>Windows</code>磁盘管理工具中将第二个磁盘所有盘符删除，整个第二块磁盘状态为未分配，在使用<code>cfdisk</code>时新建<code>EIF</code>分区（当然与第一块磁盘中的<code>Windows</code>共用<code>EIF</code>分区同样可行），<code>GRUB</code>在开了多系统检测之后可以检测多个磁盘上的系统。注意用<code>mkfs</code>对<code>FIF</code>分区格式化即可。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.fat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F32</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/EIF所在磁盘区域</span></span></code></pre></div><blockquote><p>注：<code>nvme</code>开头是使用<code>NVMe</code>接口标准的存储设备</p><p><code>sda</code>开头是使用<code>SATA</code>接口标准的存储设备</p><p><code>SSD</code>是固态硬盘（Solid State Drive）的简称</p><p><code>NVMe</code>接口速度更快延迟更低，主要用于高性能<code>SSD</code></p><p><code>SATA</code>接口标准主要用于机械硬盘和<code>SSD</code></p></blockquote><p>3.对自用用户赋权root组，不然权限好低，一点也不方便</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gpasswd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> P4yl04d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span></span></code></pre></div><h4 id="启动盘制作及分区" tabindex="-1">启动盘制作及分区 <a class="header-anchor" href="#启动盘制作及分区" aria-label="Permalink to &quot;启动盘制作及分区&quot;">​</a></h4><p><code>iso</code>镜像下载</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/</span></span></code></pre></div><p>启动盘制作工具下载</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://ventoy.net/cn/download.html</span></span></code></pre></div><p><code>ventoy</code>下载解压后，打开<code>Ventory2Disk</code>，设置分区类型为<code>GPT</code>(这里可供选择的有<code>MBR</code>和<code>GPT</code>,详细介绍在《鸟哥的linux私房菜》P131)</p><blockquote><p>关于分区各种格式的详细介绍可以参考这篇<a href="https://dingdingqiuqiu.github.io/2024/10/08/%E7%94%B5%E8%84%91%E6%98%AF%E6%80%8E%E4%B9%88%E5%BC%80%E6%9C%BA%E7%9A%84(x86)/#more" target="_blank" rel="noreferrer">电脑是怎么开机的</a></p></blockquote><blockquote><p>MBR: 早期的，最大2.2TB,开头扇区记录分区信息及开机启动项，且开机管理程序区块仅446Bytes,较小</p><p>GPT: 新兴的，补充下，fdisk工具目前支持gpt分区的识别（Linux和Windows磁盘均使用的gpt），使用grub引导似乎也没啥问题</p><p>相关知识速览: <a href="https://segmentfault.com/a/1190000020850901" target="_blank" rel="noreferrer">https://segmentfault.com/a/1190000020850901</a></p></blockquote><p>分区文件系统类型为<code>exFAt</code>即可(后面反正要重新格式化，其实无所凋萎)，分区4kb对齐，簇大小默认。</p><p>点击安装，即可格式化原USB,拖入下载的<code>iso</code>镜像文件,完成启动盘制作。</p><p>使用windos里的磁盘管理工具可查看磁盘状态，未分配的都是可用的，删除卷，压缩卷均可腾出未分配空间</p><p>启动前记得去<code>UEFI/BIOS</code>里关闭安全启动选项</p><h4 id="启动盘启动" tabindex="-1">启动盘启动 <a class="header-anchor" href="#启动盘启动" aria-label="Permalink to &quot;启动盘启动&quot;">​</a></h4><p>插上USB,进入<code>UEFI/BIOS</code>里，选择<code>从USB启动</code>。</p><p>页面一:选择要安装的镜像后回车(ventory支持多镜像启动盘)。</p><p>页面二:选择<code>Boot in normal mode</code>（第一个选项），即grub引导方式安装。</p><p>页面三:进入<code>grub</code>页面，选择<code>Archlinux install...</code>（第一个选项）即可。</p><blockquote><p>由于archlinux安装在命令行下，live环境中，所以我们后面更换主板找回grub时，不用像别的系统一样还要找<code>try un** without install</code>的选项。</p></blockquote><h4 id="wifi连接" tabindex="-1">WIFI连接 <a class="header-anchor" href="#wifi连接" aria-label="Permalink to &quot;WIFI连接&quot;">​</a></h4><p>解锁<code>wifi</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rfkill</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unblock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wifi</span></span></code></pre></div><p>使用<code>iwctl</code>连接（<code>wlan0</code>是我的网卡设备名，<code>Link</code>是我的<code>WIFI</code>名）</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iwctl</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">device</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">station</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wlan0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scan</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">station</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wlan0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get-networks</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">station</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wlan0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Link</span></span></code></pre></div><p>输入密码，ctrl+d退出<code>iwctl</code>后，检测连接</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> baidu.com</span></span></code></pre></div><h4 id="分区及安装系统" tabindex="-1">分区及安装系统 <a class="header-anchor" href="#分区及安装系统" aria-label="Permalink to &quot;分区及安装系统&quot;">​</a></h4><p>更新系统时间</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">timedatectl</span></span></code></pre></div><p>查看分区（图片这里是分好后的效果）</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fdisk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span></span></code></pre></div><img src="https://1drv.ms/i/s!Ai4kpDYGStT7m0DYiq30zod2xxZG?embed=1&amp;width=1660&amp;height=1648" width="1660" height=""><p>如图<code>/dev/nvme0n1</code>开头是<code>windows</code>下的，不用动;我们所有操作都在第二块固态上，即<code>/dev/nvme1n1</code>开头</p><p>进入操作页面</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cfdisk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev/nvme1n1</span></span></code></pre></div><p>可以看到都是未分配的，我们在上方选中<code>Free space</code>,下方选中<code>New</code>，输入文件大小，创建四个分区，分别留作efi分区，根分区，home分区，swap分区，大小建议为<code>0.3G</code>，<code>随便</code>，<code>随便</code>，<code>内存*2G</code></p><p>然后分别在上方选中四个分区，下方选中<code>Type</code>,分区类型为分别为<code>EFI System</code>,<code>Linux filename </code>,<code>Linux home</code>,<code>Linux swap</code>。</p><p>执行分区类型写入，分别在上方选中四个分区，下方选中<code>Write</code>，分别对四个分区写入。</p><p>写入后，下方选中<code>Quit</code>退出即可。</p><p>再次执行<code>fdisk -l</code>，检查分区情况，没问题就可以继续了，后面我们进行格式化分区。</p><p>格式化<code>EFI分区</code>(位置在<code>/dev/nvme1n1p2</code>)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mkfs.fat -F 32 /dev/nvme1n1p2</span></span></code></pre></div><blockquote><p>创建了一个FAT32文件系统，等价命令为<code>mkfs.vfat /dev/nvme1n1p2</code></p></blockquote><p>格式化<code>根分区</code>(位置在<code>/dev/nvme1n1p3</code>)</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/nvme1n1p3</span></span></code></pre></div><p>格式化<code>home分区</code>(位置在<code>/dev/nvme1n1p4</code>)</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/nvme1n1p4</span></span></code></pre></div><p>格式化<code>swap分区</code>(位置在<code>/dev/nvme1n1p5</code>)</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkswap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/nvme1n1p5</span></span></code></pre></div><p>挂载分区(一定要先挂载根分区)</p><p>挂载根分区（位置在<code>/dev/nvme1n1p3</code>)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mount /dev/nvme1n1p3 /mnt</span></span></code></pre></div><p>挂载home分区（位置在<code>/dev/nvme1n1p4</code>）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mount --mkdir /dev/nvme1n1p4 /mnt/home</span></span></code></pre></div><p>挂载efi分区(位置在<code>/dev/nvme1n1p2</code>)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mount --mkdir /dev/nvme1n1p2 /mnt/efi</span></span></code></pre></div><p>挂载交换分区（位置在<code>/dev/nvme1n1p5</code>）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>swapon /dev/nvme1n1p5</span></span></code></pre></div><p>配置<code>pacman</code>国内源</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nano /etc/pacman.d/mirrorlist</span></span></code></pre></div><p>第一行添加</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</span></span></code></pre></div><p>保存退出，刷新缓存</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pacman -Syyu</span></span></code></pre></div><p>重新安装密钥</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pacman -S archlinux-keyring</span></span></code></pre></div><p>安装基本操作系统</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pacstrap /mnt base base-devel linux-zen linux-zen-headers linux-firmware networkmanager grub os-prober efibootmgr ntfs-3g amd-ucode bluez bluez-utils nano</span></span></code></pre></div><blockquote><p>base：基础系统</p><p>base-devel: 工具包</p><p>linux-zen: 高性能内核</p><p>linux-zen-headers: 高性能内核头文件</p><p>linux-firmware: linux固件</p><p>networkmanager: 网络</p><p>grub: 引导</p><p>os-prober: 多系统检测</p><p>efibootmgr: efi启动项管理</p><p>ntfs-3g: ntfs可读写</p><p>amd-ucode: cpu编码，如果是cpu为intel的，那就intel-ucode</p><p>bluez bluez-utils: 蓝牙</p><p>nano: 文本编辑器</p></blockquote><p>一路回车安装即可。</p><p>创建fstab（自动挂载配置文件）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span></span></code></pre></div><p><code>arch-chroot</code>进入系统</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>arch-chroot /mnt</span></span></code></pre></div><p>设置时区</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span></code></pre></div><p>设置硬件时间</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hwclock</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --systohc</span></span></code></pre></div><p>本地化</p><p>编辑<code>/etc/locale.gen</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nano /etc/locale.gen</span></span></code></pre></div><p>删除<code>en_US.UTF-8 UTF-8</code>和<code>zh_CN.UTF-8 UTF-8</code>前的<code>#</code></p><p>生成<code>locale</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>locale-gen</span></span></code></pre></div><p>编辑<code>/etc/locale.conf</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nano /etc/locale.conf</span></span></code></pre></div><p>添加</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>LANG=en_US.UTF-8</span></span></code></pre></div><p>保存退出</p><p>设置主机名</p><p>编辑<code>/etc/hostname</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nano /etc/hosthome</span></span></code></pre></div><p>就叫<code>Arch</code>吧</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Arch</span></span></code></pre></div><p>设置<code>root</code>密码</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>passwd</span></span></code></pre></div><p>输两次密码即可</p><p>创建普通用户<code>P4yl04d</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>useradd -m -G wheel P4yl04d</span></span></code></pre></div><p>为普通用户创建密码</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>passwd P4yl04d</span></span></code></pre></div><p>编辑<code>/etc/sudoers</code>赋予用户<code>root</code>权限</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nano /etc/sudoers</span></span></code></pre></div><p>删除<code>%wheel ALL=(ALL:ALL) ALL</code>前的<code>#</code></p><p>启动服务</p><p>网络服务</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>systemctl enable NetworkManager</span></span></code></pre></div><p>蓝牙服务</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>systemctl enable bluetooth</span></span></code></pre></div><p>编辑<code>grub</code>，启用多系统检测</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nano /etc/default/grub</span></span></code></pre></div><p>去掉<code>GRUB_DISABLE_OS_PROBER=false</code>前的<code>#</code></p><p>安装<code>grub</code>服务</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=grub</span></span></code></pre></div><p>更新<code>grub</code>引导</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>grub-mkconfig -o /boot/grub/grub.cfg</span></span></code></pre></div><h4 id="安装桌面环境kde" tabindex="-1">安装桌面环境<code>KDE</code> <a class="header-anchor" href="#安装桌面环境kde" aria-label="Permalink to &quot;安装桌面环境\`KDE\`&quot;">​</a></h4><p>基本组件</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pacman -S xorg plasma plasma-wayland-session</span></span></code></pre></div><p>开机自启动显示管理</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>systemctl enable sddm</span></span></code></pre></div><p>其他必要的东西</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pacman -S konsole dophin ark kate</span></span></code></pre></div><blockquote><p>konsole: 终端</p><p>dophin: 文件管理器</p><p>ark: 解压缩软件</p><p>kate: 文本编辑器</p></blockquote><p>退出系统，重启电脑即可进入<code>Archlinux</code>桌面环境工作</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>exit</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>reboot</span></span></code></pre></div><p>重启后在<code>grub</code>引导中并未看到<code>Windows</code>选项，正常现象</p><p>我们进入<code>Arch</code>,重新更新下，下次就有了</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo grub-mkconfig -o /boot/grub/grub.cfg</span></span></code></pre></div><p>从回显信息我们可以看到，<code>grub</code>找到了<code>windows</code>的启动项。</p><h4 id="本地化-中文" tabindex="-1">本地化-中文 <a class="header-anchor" href="#本地化-中文" aria-label="Permalink to &quot;本地化-中文&quot;">​</a></h4><p>中文字体</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo pacman -S adobe-source-han-sans-cn-fonts</span></span></code></pre></div><p>去设置-&gt; <code>Regional Settings</code>-&gt;<code>Region &amp; Language</code>-&gt;<code>Change Language</code>-&gt;<code>简体中文</code>-&gt;<code>Apply</code>-&gt;<code>Restart now</code>-&gt;<code>OK</code></p><h4 id="配置国内源下载必要应用" tabindex="-1">配置国内源下载必要应用 <a class="header-anchor" href="#配置国内源下载必要应用" aria-label="Permalink to &quot;配置国内源下载必要应用&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nano /etc/pacman.conf</span></span></code></pre></div><p>开启32位库</p><p>改</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>#[mulitlib]</span></span>
<span class="line"><span>#Include = /etc/pacman.d/mirrorlist</span></span></code></pre></div><p>为</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[mulitlib]</span></span>
<span class="line"><span>Include = /etc/pacman.d/mirrorlist</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[archlinuxcn]</span></span>
<span class="line"><span>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</span></span></code></pre></div><p>保存退出后刷新</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo pacman -Syy</span></span></code></pre></div><p>导入cn源密钥</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo pacman -S archlinuxcn-keyring</span></span></code></pre></div><p>安装后端程序使得应用商店刷新出软件</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo pacman -S archlinux-appstream-data packagekit-qt5 fwupd</span></span></code></pre></div><p>安装<code>AUR</code>助手<code>yay</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo pacman -S yay</span></span></code></pre></div><p>刷新</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>yay -Syy</span></span></code></pre></div><p>安装中文输入法<code>Fcitx5</code>(Wiki上有)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo pacman -S fcitx5-im</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo pacman -S fcitx5-chinese-addons fcitx5-rime</span></span></code></pre></div><p>编辑<code>environment</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo nano /etc/environment</span></span></code></pre></div><p>添加</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GTK_IM_MODULE=fcitx</span></span>
<span class="line"><span>QT_IM_MODULE=fcitx</span></span>
<span class="line"><span>XMODIFIERS=@im=fcitx</span></span>
<span class="line"><span>SDL_IM_MODULE=fcitx</span></span>
<span class="line"><span>INPUT_METHOD=fcitx</span></span>
<span class="line"><span>GLFW_IM_MODULE=ibus</span></span></code></pre></div><p>不想添加<code>environment</code>也可以</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>yay -S fcitx5-input-support</span></span></code></pre></div><p>重启后就可以在设置里找到拼音输入法了，至此，安装完成。</p><h4 id="erro-主板更换后找回grub" tabindex="-1">ERRO:主板更换后找回grub <a class="header-anchor" href="#erro-主板更换后找回grub" aria-label="Permalink to &quot;ERRO:主板更换后找回grub&quot;">​</a></h4><p><strong>问题描述</strong></p><p>打开电脑后自动进入<code>Windows</code>系统，痛失<code>grub</code>引导</p><p>进入<code>UEFI/BIOS</code>里，启动方式那里只有<code>windows mangemer</code>了，原本的<code>grub</code>选项丢失了。</p><blockquote><p>windows mangemer在windows磁盘下的efi里，grub在linux磁盘下的efi里。</p></blockquote><p><strong>解决方案</strong></p><p>进入安装时的live环境，连接wifi(即前文中的[<code>启动盘制作及分区</code>,<code>WIFI连接部分</code>])。</p><p>挂载分区(一定要先挂载根分区)</p><p>挂载根分区（位置在<code>/dev/nvme1n1p3</code>)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mount /dev/nvme1n1p3 /mnt</span></span></code></pre></div><p>挂载home分区（位置在<code>/dev/nvme1n1p4</code>）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mount --mkdir /dev/nvme1n1p4 /mnt/home</span></span></code></pre></div><p>挂载efi分区(位置在<code>/dev/nvme1n1p2</code>)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mount --mkdir /dev/nvme1n1p2 /mnt/efi</span></span></code></pre></div><p>挂载交换分区（位置在<code>/dev/nvme1n1p5</code>）</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>swapon /dev/nvme1n1p5</span></span></code></pre></div><p><code>arch-chroot</code>进入系统</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>arch-chroot /mnt</span></span></code></pre></div><p>重新安装<code>grub</code>服务</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=grub</span></span></code></pre></div><p>更新<code>grub</code>引导</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>grub-mkconfig -o /boot/grub/grub.cfg</span></span></code></pre></div><p>退出系统，重启电脑即可进入<code>Archlinux</code>桌面环境工作</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>exit</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>reboot</span></span></code></pre></div><p>重启后在<code>grub</code>引导中并未看到<code>Windows</code>选项，正常现象</p><p>我们进入<code>Arch</code>,重新更新下，下次就有了</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo grub-mkconfig -o /boot/grub/grub.cfg</span></span></code></pre></div><p>从回显信息我们可以看到，<code>grub</code>找到了<code>windows</code>的启动项。</p><p>再次重启，验证结果，可以看到<code>grub</code>已经被我们成功修复。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>reboot</span></span></code></pre></div><h3 id="软件生态配置" tabindex="-1">软件生态配置 <a class="header-anchor" href="#软件生态配置" aria-label="Permalink to &quot;软件生态配置&quot;">​</a></h3><h4 id="纯软件" tabindex="-1">纯软件 <a class="header-anchor" href="#纯软件" aria-label="Permalink to &quot;纯软件&quot;">​</a></h4><p><code>Archlinux</code>中下载软件推荐上<a href="https://wiki.archlinux.org/" target="_blank" rel="noreferrer">Archwiki</a>（输入软件名即可，内有中文社区，点<code>AUR</code>中也可）</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 软件包名（官方版）</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 软件包名（AUR包）</span></span></code></pre></div><p>自己下载解压安装亦可，初始环境配置推荐下面这篇文章</p><p><a href="https://zhuanlan.zhihu.com/p/617640635" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/617640635</a></p><p>补充：</p><p><code>Clash for Windows</code>可以用<a href="https://github.com/zzzgydi/clash-verge/releases/tag/v1.3.8" target="_blank" rel="noreferrer">Clash Verge</a>代替</p><blockquote><p><a href="https://www.hortonyyx.com/article/over-the-wall" target="_blank" rel="noreferrer">翻过高墙（passwd:horton）</a></p></blockquote><img src="https://onedrive.live.com/embed?resid=FBD44A0636A4242E%212659&amp;authkey=%21ANiKrfTOh3bHFkY&amp;width=1918&amp;height=1036" width="1918" height=""><p>系统代理设置这里和<code>Clash for windows</code>一致</p><img src="https://onedrive.live.com/embed?resid=FBD44A0636A4242E%212661&amp;authkey=%21ANiKrfTOh3bHFkY&amp;width=1290&amp;height=912" width="1290" height=""><h4 id="zsh配置" tabindex="-1"><code>Zsh</code>配置 <a class="header-anchor" href="#zsh配置" aria-label="Permalink to &quot;\`Zsh\`配置&quot;">​</a></h4><p>参考文章（视频）：</p><p><a href="https://www.youtube.com/watch?v=8Uh9-BpTqfM" target="_blank" rel="noreferrer">zsh安装</a> 来源于<code>Youtube</code>的一则视频</p><p><a href="https://wiki.archlinux.org/title/Zsh" target="_blank" rel="noreferrer">zsh安装</a> 来源于<code>Archwiki</code>的一篇文章（主）</p><p><a href="https://zhuanlan.zhihu.com/p/35283688" target="_blank" rel="noreferrer">oh-my-zsh安装</a> 来源于<code>知乎</code>的一篇文章</p><p><a href="https://www.youtube.com/watch?v=f5bdi7WrIFs" target="_blank" rel="noreferrer">oh-my-zsh安装</a> 来源于<code>Youtube</code>的一则视频（主）</p><p><a href="https://github.com/romkatv/powerlevel10k#meslo-nerd-font-patched-for-powerlevel10k" target="_blank" rel="noreferrer">p10k字体配置</a> 来源于<code>Github</code>该主题作者的推荐字体（这里的字体很有用，解决了<code>Arch</code>图标显示不正常的问题）</p><p>官方字体下载，链接里有这四个字体，点击链接下载下来。</p><img src="https://onedrive.live.com/embed?resid=FBD44A0636A4242E%212660&amp;authkey=%21ANiKrfTOh3bHFkY&amp;width=1750&amp;height=846" width="1750" height=""><p>下载以后鼠标右键安装到系统用户即可（右键选中<code>ttf</code>文件有安装选项）</p><img src="https://onedrive.live.com/embed?resid=FBD44A0636A4242E%212658&amp;authkey=%21ANiKrfTOh3bHFkY&amp;width=1232&amp;height=764" width="1232" height=""><p>字体下载（主要是视频里做的，但是效果不如作者推荐的字体）</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Syu</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts-emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noto-fonts-extra</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> awesome-terminal-fonts</span></span></code></pre></div><p>配置</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Syu</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zsh</span></span></code></pre></div><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Syu</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span></code></pre></div><p>一切之前：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span></span></code></pre></div><p><code>zsh</code>下载</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zsh</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zsh-completions</span></span></code></pre></div><p>更改<code>shell</code>为<code>zsh</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chsh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				#查看所有Shell所在位置</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chsh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 想更换的shell的完整目录</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 这里在哪个用户下更改的就是更换哪个用户的Shell</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在root下更改后用户的shell仍然是原shell</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重启电脑后shell生效</span></span></code></pre></div><p>下载<code>oh-my-zsh</code>，配置文件在<code>/root/.zshrc</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --insecure</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)&quot;</span></span></code></pre></div><h5 id="插件下载" tabindex="-1">插件下载 <a class="header-anchor" href="#插件下载" aria-label="Permalink to &quot;插件下载&quot;">​</a></h5><p><a href="https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md" target="_blank" rel="noreferrer">语法高亮</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/zsh-users/zsh-syntax-highlighting.git</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${ZSH_CUSTOM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">~</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.oh-my-zsh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">custom}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/plugins/zsh-syntax-highlighting</span></span></code></pre></div><p><a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md" target="_blank" rel="noreferrer">自动补全</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/zsh-users/zsh-autosuggestions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${ZSH_CUSTOM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">~</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.oh-my-zsh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">custom}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/plugins/zsh-autosuggestions</span></span></code></pre></div><p><a href="https://github.com/romkatv/powerlevel10k#oh-my-zsh" target="_blank" rel="noreferrer">主题下载</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth=1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/romkatv/powerlevel10k.git</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${ZSH_CUSTOM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.oh-my-zsh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">custom}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/themes/powerlevel10k</span></span></code></pre></div><h5 id="文件配置" tabindex="-1">文件配置 <a class="header-anchor" href="#文件配置" aria-label="Permalink to &quot;文件配置&quot;">​</a></h5><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .zshrc</span></span></code></pre></div><p>主题配置</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set name of the theme to load --- if set to &quot;random&quot;, it will</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># load a random theme each time oh-my-zsh is loaded, in which case,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># to know which specific one was loaded, run: echo $RANDOM_THEME</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ZSH_THEME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;powerlevel10k/powerlevel10k&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ZSH_THEME=&quot;robbyrussell&quot;</span></span></code></pre></div><p>插件配置</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Which plugins would you like to load?</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Standard plugins can be found in $ZSH/plugins/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Custom plugins may be added to $ZSH_CUSTOM/plugins/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Example format: plugins=(rails git textmate ruby lighthouse)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Add wisely, as too many plugins slow down shell startup.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plugins</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        git</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        zsh-autosuggestions</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # zsh-syntax-highlighting must be the last</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        zsh-syntax-highlighting</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $ZSH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/oh-my-zsh.sh</span></span></code></pre></div><p>让配置生效，同时根据选择主题详细配置即可</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .zshrc</span></span></code></pre></div><p>重新配置</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p10k</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configure</span></span></code></pre></div><p>安装<code>i3</code>桌面</p><blockquote><p>按照个人喜好，我这里pwngdb分屏显示特别奇怪，故仅仅进行了安装，并未实际使用</p></blockquote><p><a href="https://doc.houdunren.com/%E6%95%88%E7%8E%87%E6%8F%90%E5%8D%87/3%20i3.html#%E5%9F%BA%E7%A1%80%E6%8E%A7%E5%88%B6" target="_blank" rel="noreferrer">i3 安装配置</a></p><blockquote><p><code>blueman</code>暂时没什么用,他给的配置文件不咋好用，不建议使用</p></blockquote><p><code>vim/nvim</code>配置(更推荐<code>vim</code>)</p><p><a href="https://wiki.archlinuxcn.org/wiki/Neovim" target="_blank" rel="noreferrer">Archwiki_Neovim</a></p><p><a href="https://wiki.archlinuxcn.org/wiki/Vim" target="_blank" rel="noreferrer">Archwiki_Vim</a></p><h4 id="wine下载配置" tabindex="-1"><code>wine</code>下载配置 <a class="header-anchor" href="#wine下载配置" aria-label="Permalink to &quot;\`wine\`下载配置&quot;">​</a></h4><blockquote><p>不推荐，很多软件都不稳定，有时候能打开，有时候不能。小问题一堆，强烈不推荐</p></blockquote><p>安装必要的包：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pacman</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wine</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wine-mono</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> winetricks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zenity</span></span></code></pre></div><p>保存并退出，重启系统</p><p>进入桌面后运行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">winecfg</span></span></code></pre></div><p>把操作系统改为<code>Windows 10</code></p><p>安装完后输入<code>vim ~/.bashrc</code>，往里面插入：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> WINEARCH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;win32&quot;</span></span></code></pre></div><p>百度网盘里下载Windows下的字体文件到<code>~/.wine/drive_c/windows/Fonts</code>，然后运行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">winetricks</span></span></code></pre></div><p>选择<code>Select the default wineprefix</code>（选择默认的wine容器），然后再选择<code>Run uninstaller</code>，单击<code>Install...</code>选择安装包安装程序</p><blockquote><p>一定要安装字体，不然打不开ida</p></blockquote><p>最后在终端输入<code>wine &lt;exe&gt;</code>运行你喜欢的程序吧！</p><p>安装<code>python_for_windows</code>:下载后打开目录，运行</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wineconsole</span></span></code></pre></div><p>在终端执行安装命令安装<code>python</code>环境（必须装，不然无法载入反编译二进制文件）</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./python-3.12.0-amd64.exe</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +777</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python安装位置在linux环境的映射</span></span></code></pre></div><p>参考文档:</p><p><a href="https://blog.csdn.net/qq_45933858/article/details/124553135" target="_blank" rel="noreferrer">[详解]ArchLinux下Wine的使用</a></p><p><a href="https://www.csdzds.cn/posts/linux-wine/" target="_blank" rel="noreferrer">使用 Wine 运行 IDA Pro</a></p><h3 id="wps" tabindex="-1">WPS <a class="header-anchor" href="#wps" aria-label="Permalink to &quot;WPS&quot;">​</a></h3><p>粗体字体问题</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> freetype2-wps</span></span></code></pre></div><p>启动时跳出的缺失字体问题</p><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yay</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ttf-wps-fonts</span></span></code></pre></div>`,302)]))}const k=a(p,[["render",n]]);export{r as __pageData,k as default};
